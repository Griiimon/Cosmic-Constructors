[gd_scene load_steps=20 format=3 uid="uid://18lknojownsw"]

[ext_resource type="Script" path="res://game/game.gd" id="1_7fydp"]
[ext_resource type="Script" path="res://game/test/custom planet test/custom_planet_tests.gd" id="2_d2xmp"]
[ext_resource type="Script" path="res://game/core/world/world.gd" id="3_cfpqv"]
[ext_resource type="PackedScene" uid="uid://xgkn2mkwvwmq" path="res://game/core/player/player.tscn" id="4_45jsc"]
[ext_resource type="Resource" uid="uid://b3j0r3l7nan0i" path="res://game/data/equipment/back/jetpack/atmospheric_jetpack.tres" id="5_bbgji"]
[ext_resource type="Script" path="res://game/core/player/equipment/player_equipment.gd" id="6_yyq31"]
[ext_resource type="PackedScene" uid="uid://cn7c8npnm1ukd" path="res://game/ui/game_ui.tscn" id="7_w4pu6"]
[ext_resource type="VoxelGeneratorScript" uid="uid://b26ajmch67psy" path="res://game/test/custom planet test/custom_voxel_generator.tres" id="8_27ipv"]
[ext_resource type="Shader" path="res://game/test/custom planet test/infinite_transvoxel_terrain.gdshader" id="9_fgx8c"]
[ext_resource type="Texture2D" uid="uid://myq0vhmv3kjp" path="res://game/textures/Rocks07_col.webp" id="10_bm7bq"]
[ext_resource type="Texture2D" uid="uid://dtlptku1k7pm1" path="res://addons/zylann.atmosphere/demo/space_background.webp" id="10_fxdwa"]
[ext_resource type="Texture2D" uid="uid://cdga3d64rgt8e" path="res://game/textures/grass_albedo.png" id="12_05coi"]

[sub_resource type="SphereShape3D" id="SphereShape3D_63ws0"]
radius = 10000.0

[sub_resource type="Resource" id="Resource_y4pjv"]
script = ExtResource("6_yyq31")
back_item = ExtResource("5_bbgji")

[sub_resource type="VoxelMesherTransvoxel" id="VoxelMesherTransvoxel_oycf3"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j1u7i"]
render_priority = 0
shader = ExtResource("9_fgx8c")
shader_parameter/u_transition_mask = null
shader_parameter/u_voxel_virtual_texture_tile_size = null
shader_parameter/u_voxel_virtual_texture_fade = null
shader_parameter/u_voxel_cell_size = null
shader_parameter/u_voxel_block_size = null
shader_parameter/u_voxel_virtual_texture_offset_scale = null
shader_parameter/u_lod_fade = null
shader_parameter/u_texture_top = ExtResource("12_05coi")
shader_parameter/u_texture_sides = ExtResource("10_bm7bq")

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_vdqjr"]
panorama = ExtResource("10_fxdwa")

[sub_resource type="Sky" id="Sky_mx20v"]
sky_material = SubResource("PanoramaSkyMaterial_vdqjr")

[sub_resource type="Environment" id="Environment_bvqag"]
background_mode = 2
sky = SubResource("Sky_mx20v")
glow_enabled = true
glow_levels/3 = 0.0
glow_levels/4 = 1.0
glow_levels/6 = 1.0
glow_intensity = 4.0
glow_strength = 0.8
glow_blend_mode = 0
glow_hdr_scale = 1.0
volumetric_fog_density = 0.0

[node name="Custom Planet Test" type="Node3D"]
script = ExtResource("1_7fydp")

[node name="Tests" type="Node" parent="."]
script = ExtResource("2_d2xmp")

[node name="Gravity Area" type="Area3D" parent="."]
collision_mask = 3
gravity_space_override = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Gravity Area"]
shape = SubResource("SphereShape3D_63ws0")

[node name="World" type="Node3D" parent="."]
script = ExtResource("3_cfpqv")

[node name="Player" parent="." node_paths=PackedStringArray("world") instance=ExtResource("4_45jsc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 75.8921, 0)
world = NodePath("../World")
equipment = SubResource("Resource_y4pjv")

[node name="UI" parent="." instance=ExtResource("7_w4pu6")]

[node name="Planet" type="VoxelLodTerrain" parent="."]
generator = ExtResource("8_27ipv")
mesher = SubResource("VoxelMesherTransvoxel_oycf3")
view_distance = 4096
voxel_bounds = AABB(-65536, -65536, -65536, 131072, 131072, 131072)
lod_count = 7
material = SubResource("ShaderMaterial_j1u7i")
collision_layer = 4
run_stream_in_editor = false

[node name="DirectionalLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 275.302, 0)
shadow_enabled = true
directional_shadow_max_distance = 2000.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bvqag")
